import{d as e,e as s,p as t,n as a,r as l,o as r,f as o,g as n,t as u,q as m,v as d,F as c,x as i,i as p}from"./vendor.b7297cc7.js";import{_ as f,A as v,a as b,u as x}from"./index.ed08c384.js";const g=["ADMIN","EDITOR","USER"];var y=e({name:"User",components:{TextField:f},setup(){var e,l;const r=x(),o=s((()=>r.state.user)),n=t(),u=a(null==(e=o.value)?void 0:e.role),m=a(null==(l=o.value)?void 0:l.name);return{user:o,ROLE:g,logout(){r.dispatch(v.LOGOUT),n.push("/")},transRole:u,transName:m,transform(){o.value&&b.Users.modify(o.value.userId,{role:u.value,name:m.value}).then((()=>{alert("霹靂卡霹靂拉拉波波莉娜貝貝魯多"),n.go(0)})).catch((()=>alert("ㄨㄚˊ 變身失敗了 QQ")))}}}});const R={class:"min-h-full flex items-center justify-center py-12 px-4"},h={class:"flex flex-col"},U=n("div",{class:"text-lg text-center"},"帳號資訊",-1),O={class:"mt-2 my-2"},E={class:"my-2"},I={class:"my-2"},D=n("div",{class:"mt-20 text-lg text-center"},"🔥 Demo 專屬功能 🔥",-1),L={class:"mt-2 flex items-center"},N=p(" 改變角色： "),V={class:"mt-2 flex items-center"},j=p(" 改變名稱： "),k=n("span",{class:"tex-base"},"🔮",-1),T=p(" 變身 ");y.render=function(e,s,t,a,p,f){const v=l("text-field");return r(),o("div",R,[n("div",h,[U,n("p",O,"Username: "+u(e.user.name),1),n("p",E,"User ID: "+u(e.user.userId),1),n("p",I,"Role: "+u(e.ROLE[e.user.role]),1),n("button",{type:"button",class:"px-4 py-2 mt-5 font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none",onClick:s[1]||(s[1]=(...s)=>e.logout&&e.logout(...s))}," 登出 "),D,n("div",L,[N,m(n("select",{"onUpdate:modelValue":s[2]||(s[2]=s=>e.transRole=s),name:"select-course",class:"ml-2 flex-1 h-8 p-1 border border-gray-500 rounded"},[(r(!0),o(c,null,i(e.ROLE,((e,s)=>(r(),o("option",{key:e,value:s},u(e),9,["value"])))),128))],512),[[d,e.transRole]])]),n("div",V,[j,n(v,{class:"ml-2",modelValue:e.transName,"onUpdate:modelValue":s[3]||(s[3]=s=>e.transName=s),label:""},null,8,["modelValue"])]),n("button",{type:"button",class:"mt-4 px-5 py-2 font-medium text-blue-900 bg-rose-100 border border-transparent rounded-md hover:bg-rose-200 focus:outline-none",onClick:s[4]||(s[4]=(...s)=>e.transform&&e.transform(...s))},[k,T])])])};export default y;
