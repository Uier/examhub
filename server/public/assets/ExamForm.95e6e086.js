import{o as e,f as l,g as a,D as t,k as o,l as s,n,e as d,p as r,r as i,i as u,t as c,w as m,q as p,v as b,F as x,x as v}from"./vendor.b7297cc7.js";import{_ as y,b as g}from"./index.ed08c384.js";const f={},h={fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},V=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1);f.render=function(a,t){return e(),l("svg",h,[V])};const k={name:"ExamForm",components:{Dialog:t,DialogOverlay:o,DialogTitle:s,FilePlusIcon:f,TextField:y,TextArea:g},props:{courses:Array,populateWith:{type:Object,default:()=>({courseId:0,year:null,semester:null,title:"",description:""})}},setup(e,{emit:l}){const a=n(!1),t=n(null),o=d((()=>e.populateWith.docId?"編輯":"新增考古題")),s=r();return{btnText:o,isOpen:a,data:t,submit(){if(!t.value.courseId)return void alert("請選擇課程");l("submit",t.value,(()=>{s.go(0)}),(e=>{console.log(e),alert(`${o}失敗`)}))},closeModal(){a.value=!1},openModal(){t.value=Object.assign({},e.populateWith),a.value=!0}}}},M={class:"flex items-center"},T={class:"fixed inset-0 z-10 overflow-y-auto"},I={class:"min-h-screen px-4 text-center"},w=a("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," ​ ",-1),C={class:"dialog-container"},D={class:"mt-2"},O=a("label",{for:"select-course",class:"block text-sm text-gray-700"},"課程名稱",-1),j=a("option",{value:0},"請選擇考古題所屬課程",-1),F={class:"mt-4"};k.render=function(t,o,s,n,d,r){const y=i("FilePlusIcon"),g=i("DialogOverlay"),f=i("DialogTitle"),h=i("text-field"),V=i("text-area"),k=i("Dialog");return e(),l("div",null,["新增考古題"===n.btnText?(e(),l("button",{key:0,type:"button",onClick:o[1]||(o[1]=(...e)=>n.openModal&&n.openModal(...e)),class:"py-2 w-32 btn-add"},[a("div",M,[a(y,{class:"w-6 h-6 mr-0.5"}),u(" "+c(n.btnText),1)])])):(e(),l("button",{key:1,type:"button",onClick:o[2]||(o[2]=(...e)=>n.openModal&&n.openModal(...e)),class:"text-blue-900 text-base"},c(n.btnText),1)),a(k,{as:"div",open:n.isOpen,onClose:n.closeModal},{default:m((()=>[a("div",T,[a("div",I,[a(g,{class:"fixed inset-0 bg-gray-300 bg-opacity-50"}),w,a("div",C,[a(f,{as:"h3",class:"text-lg text-gray-900"},{default:m((()=>[u(c(n.btnText),1)])),_:1}),a("div",D,[O,p(a("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>n.data.courseId=e),id:"select-course",class:"h-8 w-full p-1 border border-gray-500 rounded"},[j,(e(!0),l(x,null,v(s.courses,(({courseId:a,courseName:t})=>(e(),l("option",{key:a,value:a},c(t),9,["value"])))),128))],512),[[b,n.data.courseId]]),a(h,{modelValue:n.data.year,"onUpdate:modelValue":o[4]||(o[4]=e=>n.data.year=e),modelModifiers:{number:!0},label:"學年度",class:"mt-2",placeholder:"例如：109、110"},null,8,["modelValue"]),a(h,{modelValue:n.data.semester,"onUpdate:modelValue":o[5]||(o[5]=e=>n.data.semester=e),modelModifiers:{number:!0},label:"學期",class:"mt-2",placeholder:"例如：1、2"},null,8,["modelValue"]),a(h,{modelValue:n.data.title,"onUpdate:modelValue":o[6]||(o[6]=e=>n.data.title=e),label:"標題",class:"mt-2",placeholder:"例如：「期中考」、「第一次小考」"},null,8,["modelValue"]),a(V,{modelValue:n.data.description,"onUpdate:modelValue":o[7]||(o[7]=e=>n.data.description=e),label:"詳細資訊",class:"mt-2",placeholder:"補充說明這份考古題的其他內容"},null,8,["modelValue"])]),a("div",F,[a("button",{type:"button",class:"btn-submit",onClick:o[8]||(o[8]=(...e)=>n.submit&&n.submit(...e))}," 送出 "),a("button",{type:"button",class:"ml-8 text-sm text-rose-500",onClick:o[9]||(o[9]=(...e)=>n.closeModal&&n.closeModal(...e))}," 取消 ")])])])])])),_:1},8,["open","onClose"])])};export{k as _};
