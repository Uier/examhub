import{E as e,G as s,H as r,I as t,r as o,o as a,f as l,g as c,F as n,x as u,w as d,t as i,i as m,d as f,u as p,y as x,e as b}from"./vendor.b7297cc7.js";import{a as g}from"./index.ed08c384.js";import{_ as h}from"./ExamForm.95e6e086.js";const v={name:"Sidebar",components:{Disclosure:e,DisclosureButton:s,DisclosurePanel:r,ChevronRightIcon:t},props:["folder"]},w={class:"bg-rose-100 w-40 md:w-60"},C={class:"w-full"},I={class:"lg:text-lg text-gray-700 font-medium"};v.render=function(e,s,r,t,f,p){const x=o("ChevronRightIcon"),b=o("DisclosureButton"),g=o("router-link"),h=o("DisclosurePanel"),v=o("Disclosure");return a(),l("div",w,[c("div",C,[(a(!0),l(n,null,u(r.folder,(({title:s,items:r})=>(a(),l(v,{key:s,defaultOpen:r&&r.some((({courseId:s})=>e.$route.params.courseId===String(s)))},{default:d((({open:t})=>[c(b,{class:"flex justify-start items-center w-full px-4 pt-4 pb-3.5 hover:bg-rose-200 focus:outline-none"},{default:d((()=>[c(x,{class:[t?"transform rotate-90":"","w-5 h-5 lg:w-6 lg:h-6 mr-2 text-gray-700"]},null,8,["class"]),c("div",I,i(s),1)])),_:2},1024),c(h,{class:"flex flex-col items-stretch"},{default:d((()=>[(a(!0),l(n,null,u(r,(({courseId:s,courseName:r})=>(a(),l(g,{key:s,to:`/browse/${s}`,class:[{"bg-rose-200":e.$route.params.courseId===String(s)},"pl-12 pt-3 pb-2.5 pr-1 text-gray-700 font-medium hover:bg-rose-200"]},{default:d((()=>[m(i(r),1)])),_:2},1032,["to","class"])))),128))])),_:2},1024)])),_:2},1032,["defaultOpen"])))),128))])])};const y={name:"Breadcrumb",components:{ChevronRightIcon:t},props:["selectedCourse"]},E={class:"w-full mb-3 flex items-center"},S=m(" 考古題 "),_={key:1};y.render=function(e,s,r,t,u,f){const p=o("router-link"),x=o("ChevronRightIcon");return a(),l("div",E,[r.selectedCourse.data?(a(),l(n,{key:0},[c(p,{to:"/browse",class:"hover:text-blue-900"},{default:d((()=>[S])),_:1}),c(x,{class:"mx-2 w-4 h-4"}),c(p,{to:`/browse/${r.selectedCourse.data.courseId}`,class:"hover:text-blue-900"},{default:d((()=>[m(i(r.selectedCourse.data.courseName),1)])),_:1},8,["to"])],64)):(a(),l("div",_,"選擇左側課程開始瀏覽"))])};var k=f({name:"Browse",components:{Sidebar:v,Breadcrumb:y,ExamForm:h},setup(){const e=p(),s=x({data:[],isLoading:!0,isError:!1});g.Course.getList().then((e=>s.data=e.data)).catch((()=>s.isError=!0));const r=b((()=>{const r=e.params.courseId&&Number(e.params.courseId),t=s.data.find((e=>e.courseId===r));return{id:r,data:t}})),t=b((()=>[...new Set(s.data.map((e=>e.category)))].map((e=>({title:e,items:s.data.filter((s=>s.category===e))})))));return{selectedCourse:r,courses:s,folder:t,createExam(e,s,r){g.Exam.create(e).then(s).catch(r)}}}});const B={class:"min-h-screen flex"},D={class:"flex-1 p-6"},j={class:"mb-3 flex justify-between items-start flex-wrap md:flex-nowrap"},F=c("hr",{class:"mb-3"},null,-1);k.render=function(e,s,r,t,n,u){const d=o("Sidebar"),i=o("Breadcrumb"),m=o("ExamForm"),f=o("router-view");return a(),l("div",B,[c(d,{folder:e.folder},null,8,["folder"]),c("div",D,[c("div",j,[c(i,{selectedCourse:e.selectedCourse},null,8,["selectedCourse"]),c(m,{courses:e.courses.data,onSubmit:e.createExam},null,8,["courses","onSubmit"])]),F,c(f)])])};export default k;
